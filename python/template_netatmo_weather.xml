<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export>
    <version>4.4</version>
    <date>2020-05-19T18:47:10Z</date>
    <groups>
        <group>
            <name>Templates</name>
        </group>
    </groups>
    <templates>
        <template>
            <template>Template App Netatmo Weather</template>
            <name>Template App Netatmo Weather</name>
            <description>Template for netatmo weather station&#13;
https://github.com/pfoo/zabbix-netatmo</description>
            <groups>
                <group>
                    <name>Templates</name>
                </group>
            </groups>
            <applications>
                <application>
                    <name>Netatmo</name>
                </application>
            </applications>
            <discovery_rules>
                <discovery_rule>
                    <name>Netatmo weather outdoor module discovery</name>
                    <type>TRAP</type>
                    <key>netatmo.weather.module.namodule1.discovery</key>
                    <delay>0</delay>
                    <description>Netatmo weather outdoor module discovery rules</description>
                    <item_prototypes>
                        <item_prototype>
                            <name>Netatmo {#STATION_NAME} - {#MODULE_NAME} - Battery charge level</name>
                            <type>TRAP</type>
                            <key>netatmo.weather.namodule1.battery_percent[{#STATION_NAME},{#MODULE_NAME}]</key>
                            <delay>0</delay>
                            <history>1825d</history>
                            <trends>3650d</trends>
                            <units>%</units>
                            <description>Station : {#STATION_NAME}&#13;
Module : {#MODULE_NAME}&#13;
Battery charge percentage</description>
                            <applications>
                                <application>
                                    <name>Netatmo</name>
                                </application>
                            </applications>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last()}&lt;20</expression>
                                    <name>Netatmo {#STATION_NAME} {#MODULE_NAME} : less than 20% of battery remaining</name>
                                    <priority>WARNING</priority>
                                    <description>Station : {#STATION_NAME}&#13;
Module : {#MODULE_NAME}&#13;
Less than 20% of battery remaining</description>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>Netatmo {#STATION_NAME} - {#MODULE_NAME} - Battery status</name>
                            <type>TRAP</type>
                            <key>netatmo.weather.namodule1.battery_status[{#STATION_NAME},{#MODULE_NAME}]</key>
                            <delay>0</delay>
                            <history>1825d</history>
                            <trends>3650d</trends>
                            <description>Station : {#STATION_NAME}&#13;
Module : {#MODULE_NAME}&#13;
Battery Status&#13;
&#13;
6000 : Max&#13;
5500 : full&#13;
5000 : high&#13;
4500 : medium&#13;
4000 : low&#13;
&lt;4000 : very low</description>
                            <applications>
                                <application>
                                    <name>Netatmo</name>
                                </application>
                            </applications>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last()}&lt;4500</expression>
                                    <name>Netatmo {#STATION_NAME} {#MODULE_NAME} : Battery Status is low</name>
                                    <priority>WARNING</priority>
                                    <description>Station : {#STATION_NAME}&#13;
Module : {#MODULE_NAME}&#13;
Battery status is low</description>
                                    <dependencies>
                                        <dependency>
                                            <name>Netatmo {#STATION_NAME} {#MODULE_NAME} : Battery Status is very low</name>
                                            <expression>{Template App Netatmo Weather:netatmo.weather.namodule1.battery_status[{#STATION_NAME},{#MODULE_NAME}].last()}&lt;4000</expression>
                                        </dependency>
                                    </dependencies>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <expression>{last()}&lt;4000</expression>
                                    <name>Netatmo {#STATION_NAME} {#MODULE_NAME} : Battery Status is very low</name>
                                    <priority>HIGH</priority>
                                    <description>Station : {#STATION_NAME}&#13;
Module : {#MODULE_NAME}&#13;
Battery status is very low</description>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>Netatmo {#STATION_NAME} - {#MODULE_NAME} - Connection status</name>
                            <type>TRAP</type>
                            <key>netatmo.weather.namodule1.connected[{#STATION_NAME},{#MODULE_NAME}]</key>
                            <delay>0</delay>
                            <history>1825d</history>
                            <trends>3650d</trends>
                            <description>Station : {#STATION_NAME}&#13;
Module : {#MODULE_NAME}&#13;
Connection status</description>
                            <applications>
                                <application>
                                    <name>Netatmo</name>
                                </application>
                            </applications>
                            <valuemap>
                                <name>Netatmo Weather Connection Status</name>
                            </valuemap>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last()}=0</expression>
                                    <name>Netatmo {#STATION_NAME} {#MODULE_NAME} : Module is disconnected</name>
                                    <priority>HIGH</priority>
                                    <description>Station : {#STATION_NAME}&#13;
Module : {#MODULE_NAME}&#13;
Module is disconnected</description>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>Netatmo {#STATION_NAME} - {#MODULE_NAME} - Humidity</name>
                            <type>TRAP</type>
                            <key>netatmo.weather.namodule1.humidity[{#STATION_NAME},{#MODULE_NAME}]</key>
                            <delay>0</delay>
                            <history>1825d</history>
                            <trends>3650d</trends>
                            <units>%</units>
                            <description>Station : {#STATION_NAME}&#13;
Module : {#MODULE_NAME}&#13;
Humidity</description>
                            <applications>
                                <application>
                                    <name>Netatmo</name>
                                </application>
                            </applications>
                        </item_prototype>
                        <item_prototype>
                            <name>Netatmo {#STATION_NAME} - {#MODULE_NAME} - RF signal</name>
                            <type>TRAP</type>
                            <key>netatmo.weather.namodule1.rf_status[{#STATION_NAME},{#MODULE_NAME}]</key>
                            <delay>0</delay>
                            <history>1825d</history>
                            <trends>3650d</trends>
                            <description>Station : {#STATION_NAME}&#13;
Module : {#MODULE_NAME}&#13;
RF signal info&#13;
Lower is better&#13;
&#13;
90 : low&#13;
60 : highest</description>
                            <applications>
                                <application>
                                    <name>Netatmo</name>
                                </application>
                            </applications>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last(#1)}&gt;=90 and {last(#2)}&gt;=90 and {last(#3)}&gt;=90</expression>
                                    <name>Netatmo {#STATION_NAME} {#MODULE_NAME} : RF signal is weak</name>
                                    <priority>WARNING</priority>
                                    <description>Station : {#STATION_NAME}&#13;
Module : {#MODULE_NAME}&#13;
RF signal is weak on this module.</description>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>Netatmo {#STATION_NAME} - {#MODULE_NAME} - Temperature</name>
                            <type>TRAP</type>
                            <key>netatmo.weather.namodule1.temperature[{#STATION_NAME},{#MODULE_NAME}]</key>
                            <delay>0</delay>
                            <history>1825d</history>
                            <trends>3650d</trends>
                            <value_type>FLOAT</value_type>
                            <units>°{#TEMPERATURE_UNIT}</units>
                            <description>Station : {#STATION_NAME}&#13;
Module : {#MODULE_NAME}&#13;
Temperature</description>
                            <applications>
                                <application>
                                    <name>Netatmo</name>
                                </application>
                            </applications>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <name>Netatmo weather wind gauge module discovery</name>
                    <type>TRAP</type>
                    <key>netatmo.weather.module.namodule2.discovery</key>
                    <delay>0</delay>
                    <description>Netatmo weather wind gauge module discovery rules</description>
                    <item_prototypes>
                        <item_prototype>
                            <name>Netatmo {#STATION_NAME} - {#MODULE_NAME} - Battery charge level</name>
                            <type>TRAP</type>
                            <key>netatmo.weather.namodule2.battery_percent[{#STATION_NAME},{#MODULE_NAME}]</key>
                            <delay>0</delay>
                            <history>1825d</history>
                            <trends>3650d</trends>
                            <units>%</units>
                            <description>Station : {#STATION_NAME}&#13;
Module : {#MODULE_NAME}&#13;
Battery charge percentage</description>
                            <applications>
                                <application>
                                    <name>Netatmo</name>
                                </application>
                            </applications>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last()}&lt;20</expression>
                                    <name>Netatmo {#STATION_NAME} {#MODULE_NAME} : less than 20% of battery remaining</name>
                                    <priority>WARNING</priority>
                                    <description>Station : {#STATION_NAME}&#13;
Module : {#MODULE_NAME}&#13;
Less than 20% of battery remaining</description>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>Netatmo {#STATION_NAME} - {#MODULE_NAME} - Battery status</name>
                            <type>TRAP</type>
                            <key>netatmo.weather.namodule2.battery_status[{#STATION_NAME},{#MODULE_NAME}]</key>
                            <delay>0</delay>
                            <history>1825d</history>
                            <trends>3650d</trends>
                            <description>Station : {#STATION_NAME}&#13;
Module : {#MODULE_NAME}&#13;
Battery Status&#13;
&#13;
6000 : max&#13;
5590 : full&#13;
5180 : high&#13;
4770 : medium&#13;
4360 : low&#13;
&lt;4360 : very low</description>
                            <applications>
                                <application>
                                    <name>Netatmo</name>
                                </application>
                            </applications>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last()}&lt;4770</expression>
                                    <name>Netatmo {#STATION_NAME} {#MODULE_NAME} : Battery Status is low</name>
                                    <priority>WARNING</priority>
                                    <description>Station : {#STATION_NAME}&#13;
Module : {#MODULE_NAME}&#13;
Battery status is low</description>
                                    <dependencies>
                                        <dependency>
                                            <name>Netatmo {#STATION_NAME} {#MODULE_NAME} : Battery Status is very low</name>
                                            <expression>{Template App Netatmo Weather:netatmo.weather.namodule2.battery_status[{#STATION_NAME},{#MODULE_NAME}].last()}&lt;4360</expression>
                                        </dependency>
                                    </dependencies>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <expression>{last()}&lt;4360</expression>
                                    <name>Netatmo {#STATION_NAME} {#MODULE_NAME} : Battery Status is very low</name>
                                    <priority>HIGH</priority>
                                    <description>Station : {#STATION_NAME}&#13;
Module : {#MODULE_NAME}&#13;
Battery status is very low</description>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>Netatmo {#STATION_NAME} - {#MODULE_NAME} - Connection status</name>
                            <type>TRAP</type>
                            <key>netatmo.weather.namodule2.connected[{#STATION_NAME},{#MODULE_NAME}]</key>
                            <delay>0</delay>
                            <history>1825d</history>
                            <trends>3650d</trends>
                            <description>Station : {#STATION_NAME}&#13;
Module : {#MODULE_NAME}&#13;
Connection status</description>
                            <applications>
                                <application>
                                    <name>Netatmo</name>
                                </application>
                            </applications>
                            <valuemap>
                                <name>Netatmo Weather Connection Status</name>
                            </valuemap>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last()}=0</expression>
                                    <name>Netatmo {#STATION_NAME} {#MODULE_NAME} : Module is disconnected</name>
                                    <priority>HIGH</priority>
                                    <description>Station : {#STATION_NAME}&#13;
Module : {#MODULE_NAME}&#13;
Module is disconnected</description>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>Netatmo {#STATION_NAME} - {#MODULE_NAME} - Maximum Wind Date</name>
                            <type>TRAP</type>
                            <key>netatmo.weather.namodule2.date_max_wind_str[{#STATION_NAME},{#MODULE_NAME}]</key>
                            <delay>0</delay>
                            <units>unixtime</units>
                            <applications>
                                <application>
                                    <name>Netatmo</name>
                                </application>
                            </applications>
                        </item_prototype>
                        <item_prototype>
                            <name>Netatmo {#STATION_NAME} - {#MODULE_NAME} - Wind gust angle</name>
                            <type>TRAP</type>
                            <key>netatmo.weather.namodule2.gustangle[{#STATION_NAME},{#MODULE_NAME}]</key>
                            <delay>0</delay>
                            <history>1825d</history>
                            <trends>3650d</trends>
                            <units>°</units>
                            <description>Station : {#STATION_NAME}&#13;
Module : {#MODULE_NAME}&#13;
wind gust angle</description>
                            <applications>
                                <application>
                                    <name>Netatmo</name>
                                </application>
                            </applications>
                        </item_prototype>
                        <item_prototype>
                            <name>Netatmo {#STATION_NAME} - {#MODULE_NAME} - Wind gust strength</name>
                            <type>TRAP</type>
                            <key>netatmo.weather.namodule2.guststrength[{#STATION_NAME},{#MODULE_NAME}]</key>
                            <delay>0</delay>
                            <history>1825d</history>
                            <trends>3650d</trends>
                            <units>{#WIND_UNIT}</units>
                            <description>Station : {#STATION_NAME}&#13;
Module : {#MODULE_NAME}&#13;
Wind gust strength</description>
                            <applications>
                                <application>
                                    <name>Netatmo</name>
                                </application>
                            </applications>
                        </item_prototype>
                        <item_prototype>
                            <name>Netatmo {#STATION_NAME} - {#MODULE_NAME} - Maximum Wind Angle</name>
                            <type>TRAP</type>
                            <key>netatmo.weather.namodule2.max_wind_angle[{#STATION_NAME},{#MODULE_NAME}]</key>
                            <delay>0</delay>
                            <units>°</units>
                            <applications>
                                <application>
                                    <name>Netatmo</name>
                                </application>
                            </applications>
                        </item_prototype>
                        <item_prototype>
                            <name>Netatmo {#STATION_NAME} - {#MODULE_NAME} - Maximum Wind Strength</name>
                            <type>TRAP</type>
                            <key>netatmo.weather.namodule2.max_wind_str[{#STATION_NAME},{#MODULE_NAME}]</key>
                            <delay>0</delay>
                            <units>!kp/h</units>
                            <applications>
                                <application>
                                    <name>Netatmo</name>
                                </application>
                            </applications>
                        </item_prototype>
                        <item_prototype>
                            <name>Netatmo {#STATION_NAME} - {#MODULE_NAME} - RF signal</name>
                            <type>TRAP</type>
                            <key>netatmo.weather.namodule2.rf_status[{#STATION_NAME},{#MODULE_NAME}]</key>
                            <delay>0</delay>
                            <history>1825d</history>
                            <trends>3650d</trends>
                            <description>Station : {#STATION_NAME}&#13;
Module : {#MODULE_NAME}&#13;
RF signal info&#13;
Lower is better&#13;
&#13;
90 : low&#13;
60 : highest</description>
                            <applications>
                                <application>
                                    <name>Netatmo</name>
                                </application>
                            </applications>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last(#1)}&gt;=90 and {last(#2)}&gt;=90 and {last(#3)}&gt;=90</expression>
                                    <name>Netatmo {#STATION_NAME} {#MODULE_NAME} : RF signal is weak</name>
                                    <priority>WARNING</priority>
                                    <description>Station : {#STATION_NAME}&#13;
Module : {#MODULE_NAME}&#13;
RF signal is weak on this module.</description>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>Netatmo {#STATION_NAME} - {#MODULE_NAME} - Wind angle</name>
                            <type>TRAP</type>
                            <key>netatmo.weather.namodule2.windangle[{#STATION_NAME},{#MODULE_NAME}]</key>
                            <delay>0</delay>
                            <history>1825d</history>
                            <trends>3650d</trends>
                            <units>°</units>
                            <description>Station : {#STATION_NAME}&#13;
Module : {#MODULE_NAME}&#13;
wind angle</description>
                            <applications>
                                <application>
                                    <name>Netatmo</name>
                                </application>
                            </applications>
                        </item_prototype>
                        <item_prototype>
                            <name>Netatmo {#STATION_NAME} - {#MODULE_NAME} - Wind strength</name>
                            <type>TRAP</type>
                            <key>netatmo.weather.namodule2.windstrength[{#STATION_NAME},{#MODULE_NAME}]</key>
                            <delay>0</delay>
                            <history>1825d</history>
                            <trends>3650d</trends>
                            <units>{#WIND_UNIT}</units>
                            <description>Station : {#STATION_NAME}&#13;
Module : {#MODULE_NAME}&#13;
Wind strength</description>
                            <applications>
                                <application>
                                    <name>Netatmo</name>
                                </application>
                            </applications>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <name>Netatmo weather rain gauge module discovery</name>
                    <type>TRAP</type>
                    <key>netatmo.weather.module.namodule3.discovery</key>
                    <delay>0</delay>
                    <description>Netatmo weather rain gauge module discovery rules</description>
                    <item_prototypes>
                        <item_prototype>
                            <name>Netatmo {#STATION_NAME} - {#MODULE_NAME} - Battery charge level</name>
                            <type>TRAP</type>
                            <key>netatmo.weather.namodule3.battery_percent[{#STATION_NAME},{#MODULE_NAME}]</key>
                            <delay>0</delay>
                            <history>1825d</history>
                            <trends>3650d</trends>
                            <units>%</units>
                            <description>Station : {#STATION_NAME}&#13;
Module : {#MODULE_NAME}&#13;
Battery charge percentage</description>
                            <applications>
                                <application>
                                    <name>Netatmo</name>
                                </application>
                            </applications>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last()}&lt;20</expression>
                                    <name>Netatmo {#STATION_NAME} {#MODULE_NAME} : less than 20% of battery remaining</name>
                                    <priority>WARNING</priority>
                                    <description>Station : {#STATION_NAME}&#13;
Module : {#MODULE_NAME}&#13;
Less than 20% of battery remaining</description>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>Netatmo {#STATION_NAME} - {#MODULE_NAME} - Battery status</name>
                            <type>TRAP</type>
                            <key>netatmo.weather.namodule3.battery_status[{#STATION_NAME},{#MODULE_NAME}]</key>
                            <delay>0</delay>
                            <history>1825d</history>
                            <trends>3650d</trends>
                            <description>Station : {#STATION_NAME}&#13;
Module : {#MODULE_NAME}&#13;
Battery Status&#13;
&#13;
6000 : Max&#13;
5500 : full&#13;
5000 : high&#13;
4500 : medium&#13;
4000 : low&#13;
&lt;4000 : very low</description>
                            <applications>
                                <application>
                                    <name>Netatmo</name>
                                </application>
                            </applications>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last()}&lt;4500</expression>
                                    <name>Netatmo {#STATION_NAME} {#MODULE_NAME} : Battery Status is low</name>
                                    <priority>WARNING</priority>
                                    <description>Station : {#STATION_NAME}&#13;
Module : {#MODULE_NAME}&#13;
Battery status is low</description>
                                    <dependencies>
                                        <dependency>
                                            <name>Netatmo {#STATION_NAME} {#MODULE_NAME} : Battery Status is very low</name>
                                            <expression>{Template App Netatmo Weather:netatmo.weather.namodule3.battery_status[{#STATION_NAME},{#MODULE_NAME}].last()}&lt;4000</expression>
                                        </dependency>
                                    </dependencies>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <expression>{last()}&lt;4000</expression>
                                    <name>Netatmo {#STATION_NAME} {#MODULE_NAME} : Battery Status is very low</name>
                                    <priority>HIGH</priority>
                                    <description>Station : {#STATION_NAME}&#13;
Module : {#MODULE_NAME}&#13;
Battery status is very low</description>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>Netatmo {#STATION_NAME} - {#MODULE_NAME} - Connection status</name>
                            <type>TRAP</type>
                            <key>netatmo.weather.namodule3.connected[{#STATION_NAME},{#MODULE_NAME}]</key>
                            <delay>0</delay>
                            <history>1825d</history>
                            <trends>3650d</trends>
                            <description>Station : {#STATION_NAME}&#13;
Module : {#MODULE_NAME}&#13;
Connection status</description>
                            <applications>
                                <application>
                                    <name>Netatmo</name>
                                </application>
                            </applications>
                            <valuemap>
                                <name>Netatmo Weather Connection Status</name>
                            </valuemap>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last()}=0</expression>
                                    <name>Netatmo {#STATION_NAME} {#MODULE_NAME} : Module is disconnected</name>
                                    <priority>HIGH</priority>
                                    <description>Station : {#STATION_NAME}&#13;
Module : {#MODULE_NAME}&#13;
Module is disconnected</description>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>Netatmo {#STATION_NAME} - {#MODULE_NAME} - Rain</name>
                            <type>TRAP</type>
                            <key>netatmo.weather.namodule3.rain[{#STATION_NAME},{#MODULE_NAME}]</key>
                            <delay>0</delay>
                            <history>1825d</history>
                            <trends>3650d</trends>
                            <value_type>FLOAT</value_type>
                            <units>{#RAIN_UNIT}</units>
                            <description>Station : {#STATION_NAME}&#13;
Module : {#MODULE_NAME}&#13;
Current rain level</description>
                            <applications>
                                <application>
                                    <name>Netatmo</name>
                                </application>
                            </applications>
                        </item_prototype>
                        <item_prototype>
                            <name>Netatmo {#STATION_NAME} - {#MODULE_NAME} - RF signal</name>
                            <type>TRAP</type>
                            <key>netatmo.weather.namodule3.rf_status[{#STATION_NAME},{#MODULE_NAME}]</key>
                            <delay>0</delay>
                            <history>1825d</history>
                            <trends>3650d</trends>
                            <description>Station : {#STATION_NAME}&#13;
Module : {#MODULE_NAME}&#13;
RF signal info&#13;
Lower is better&#13;
&#13;
90 : low&#13;
60 : highest</description>
                            <applications>
                                <application>
                                    <name>Netatmo</name>
                                </application>
                            </applications>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last(#1)}&gt;=90 and {last(#2)}&gt;=90 and {last(#3)}&gt;=90</expression>
                                    <name>Netatmo {#STATION_NAME} {#MODULE_NAME} : RF signal is weak</name>
                                    <priority>WARNING</priority>
                                    <description>Station : {#STATION_NAME}&#13;
Module : {#MODULE_NAME}&#13;
RF signal is weak on this module.</description>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>Netatmo {#STATION_NAME} - {#MODULE_NAME} - Rain for last hour</name>
                            <type>TRAP</type>
                            <key>netatmo.weather.namodule3.sum_rain_1[{#STATION_NAME},{#MODULE_NAME}]</key>
                            <delay>0</delay>
                            <history>1825d</history>
                            <trends>3650d</trends>
                            <value_type>FLOAT</value_type>
                            <units>{#RAIN_UNIT}</units>
                            <description>Station : {#STATION_NAME}&#13;
Module : {#MODULE_NAME}&#13;
Rain level for last hour</description>
                            <applications>
                                <application>
                                    <name>Netatmo</name>
                                </application>
                            </applications>
                        </item_prototype>
                        <item_prototype>
                            <name>Netatmo {#STATION_NAME} - {#MODULE_NAME} - Rain for last 24h</name>
                            <type>TRAP</type>
                            <key>netatmo.weather.namodule3.sum_rain_24[{#STATION_NAME},{#MODULE_NAME}]</key>
                            <delay>0</delay>
                            <history>1825d</history>
                            <trends>3650d</trends>
                            <value_type>FLOAT</value_type>
                            <units>{#RAIN_UNIT}</units>
                            <description>Station : {#STATION_NAME}&#13;
Module : {#MODULE_NAME}&#13;
Rain level for last 24h</description>
                            <applications>
                                <application>
                                    <name>Netatmo</name>
                                </application>
                            </applications>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <name>Netatmo weather indoor module discovery</name>
                    <type>TRAP</type>
                    <key>netatmo.weather.module.namodule4.discovery</key>
                    <delay>0</delay>
                    <description>Netatmo weather indoor module discovery rules</description>
                    <item_prototypes>
                        <item_prototype>
                            <name>Netatmo {#STATION_NAME} - {#MODULE_NAME} - Battery charge level</name>
                            <type>TRAP</type>
                            <key>netatmo.weather.namodule4.battery_percent[{#STATION_NAME},{#MODULE_NAME}]</key>
                            <delay>0</delay>
                            <history>1825d</history>
                            <trends>3650d</trends>
                            <units>%</units>
                            <description>Station : {#STATION_NAME}&#13;
Module : {#MODULE_NAME}&#13;
Battery charge percentage</description>
                            <applications>
                                <application>
                                    <name>Netatmo</name>
                                </application>
                            </applications>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last()}&lt;20</expression>
                                    <name>Netatmo {#STATION_NAME} {#MODULE_NAME} : less than 20% of battery remaining</name>
                                    <priority>WARNING</priority>
                                    <description>Station : {#STATION_NAME}&#13;
Module : {#MODULE_NAME}&#13;
Less than 20% of battery remaining</description>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>Netatmo {#STATION_NAME} - {#MODULE_NAME} - Battery status</name>
                            <type>TRAP</type>
                            <key>netatmo.weather.namodule4.battery_status[{#STATION_NAME},{#MODULE_NAME}]</key>
                            <delay>0</delay>
                            <history>1825d</history>
                            <trends>3650d</trends>
                            <description>Station : {#STATION_NAME}&#13;
Module : {#MODULE_NAME}&#13;
Battery Status&#13;
&#13;
6000 : max&#13;
5640 : full&#13;
5280 : high&#13;
4920 : medium&#13;
4560 : low&#13;
&lt;4560 : very low</description>
                            <applications>
                                <application>
                                    <name>Netatmo</name>
                                </application>
                            </applications>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last()}&lt;4920</expression>
                                    <name>Netatmo {#STATION_NAME} {#MODULE_NAME} : Battery Status is low</name>
                                    <priority>WARNING</priority>
                                    <description>Station : {#STATION_NAME}&#13;
Module : {#MODULE_NAME}&#13;
Battery status is low</description>
                                    <dependencies>
                                        <dependency>
                                            <name>Netatmo {#STATION_NAME} {#MODULE_NAME} : Battery Status is very low</name>
                                            <expression>{Template App Netatmo Weather:netatmo.weather.namodule4.battery_status[{#STATION_NAME},{#MODULE_NAME}].last()}&lt;4560</expression>
                                        </dependency>
                                    </dependencies>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <expression>{last()}&lt;4560</expression>
                                    <name>Netatmo {#STATION_NAME} {#MODULE_NAME} : Battery Status is very low</name>
                                    <priority>HIGH</priority>
                                    <description>Station : {#STATION_NAME}&#13;
Module : {#MODULE_NAME}&#13;
Battery status is very low</description>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>Netatmo {#STATION_NAME} - {#MODULE_NAME} - CO2</name>
                            <type>TRAP</type>
                            <key>netatmo.weather.namodule4.co2[{#STATION_NAME},{#MODULE_NAME}]</key>
                            <delay>0</delay>
                            <history>1825d</history>
                            <trends>3650d</trends>
                            <units>!ppm</units>
                            <description>Station : {#STATION_NAME}&#13;
Module : {#MODULE_NAME}&#13;
CO2 level</description>
                            <applications>
                                <application>
                                    <name>Netatmo</name>
                                </application>
                            </applications>
                        </item_prototype>
                        <item_prototype>
                            <name>Netatmo {#STATION_NAME} - {#MODULE_NAME} - Connection status</name>
                            <type>TRAP</type>
                            <key>netatmo.weather.namodule4.connected[{#STATION_NAME},{#MODULE_NAME}]</key>
                            <delay>0</delay>
                            <history>1825d</history>
                            <trends>3650d</trends>
                            <description>Station : {#STATION_NAME}&#13;
Module : {#MODULE_NAME}&#13;
Connection status</description>
                            <applications>
                                <application>
                                    <name>Netatmo</name>
                                </application>
                            </applications>
                            <valuemap>
                                <name>Netatmo Weather Connection Status</name>
                            </valuemap>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{min(120)}=0</expression>
                                    <name>Netatmo {#STATION_NAME} {#MODULE_NAME} : Module is disconnected</name>
                                    <priority>HIGH</priority>
                                    <description>Station : {#STATION_NAME}&#13;
Module : {#MODULE_NAME}&#13;
Module is disconnected</description>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>Netatmo {#STATION_NAME} - {#MODULE_NAME} - Humidity</name>
                            <type>TRAP</type>
                            <key>netatmo.weather.namodule4.humidity[{#STATION_NAME},{#MODULE_NAME}]</key>
                            <delay>0</delay>
                            <history>1825d</history>
                            <trends>3650d</trends>
                            <units>%</units>
                            <description>Station : {#STATION_NAME}&#13;
Module : {#MODULE_NAME}&#13;
Humidity</description>
                            <applications>
                                <application>
                                    <name>Netatmo</name>
                                </application>
                            </applications>
                        </item_prototype>
                        <item_prototype>
                            <name>Netatmo {#STATION_NAME} - {#MODULE_NAME} - RF signal</name>
                            <type>TRAP</type>
                            <key>netatmo.weather.namodule4.rf_status[{#STATION_NAME},{#MODULE_NAME}]</key>
                            <delay>0</delay>
                            <history>1825d</history>
                            <trends>3650d</trends>
                            <description>Station : {#STATION_NAME}&#13;
Module : {#MODULE_NAME}&#13;
RF signal info&#13;
Lower is better&#13;
&#13;
90 : low&#13;
60 : highest</description>
                            <applications>
                                <application>
                                    <name>Netatmo</name>
                                </application>
                            </applications>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last(#1)}&gt;=90 and {last(#2)}&gt;=90 and {last(#3)}&gt;=90</expression>
                                    <name>Netatmo {#STATION_NAME} {#MODULE_NAME} : RF signal is weak</name>
                                    <priority>WARNING</priority>
                                    <description>Station : {#STATION_NAME}&#13;
Module : {#MODULE_NAME}&#13;
RF signal is weak on this module.</description>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>Netatmo {#STATION_NAME} - {#MODULE_NAME} - Temperature</name>
                            <type>TRAP</type>
                            <key>netatmo.weather.namodule4.temperature[{#STATION_NAME},{#MODULE_NAME}]</key>
                            <delay>0</delay>
                            <history>1825d</history>
                            <trends>3650d</trends>
                            <value_type>FLOAT</value_type>
                            <units>°{#TEMPERATURE_UNIT}</units>
                            <description>Station : {#STATION_NAME}&#13;
Module : {#MODULE_NAME}&#13;
Temperature</description>
                            <applications>
                                <application>
                                    <name>Netatmo</name>
                                </application>
                            </applications>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <name>Netatmo weather station discovery</name>
                    <type>TRAP</type>
                    <key>netatmo.weather.station.discovery</key>
                    <delay>0</delay>
                    <description>Netatmo weather station discovery rules</description>
                    <item_prototypes>
                        <item_prototype>
                            <name>Netatmo {#STATION_NAME} - {#MODULE_NAME} - CO2</name>
                            <type>TRAP</type>
                            <key>netatmo.weather.namain.co2[{#STATION_NAME},{#MODULE_NAME}]</key>
                            <delay>0</delay>
                            <history>1825d</history>
                            <trends>3650d</trends>
                            <units>ppm</units>
                            <description>Station : {#STATION_NAME}&#13;
Module : {#MODULE_NAME}&#13;
CO2 level</description>
                            <applications>
                                <application>
                                    <name>Netatmo</name>
                                </application>
                            </applications>
                        </item_prototype>
                        <item_prototype>
                            <name>Netatmo {#STATION_NAME} - {#MODULE_NAME} - Connection status</name>
                            <type>TRAP</type>
                            <key>netatmo.weather.namain.connected[{#STATION_NAME},{#MODULE_NAME}]</key>
                            <delay>0</delay>
                            <history>1825d</history>
                            <trends>3650d</trends>
                            <description>Station : {#STATION_NAME}&#13;
Module : {#MODULE_NAME}&#13;
Connection status</description>
                            <applications>
                                <application>
                                    <name>Netatmo</name>
                                </application>
                            </applications>
                            <valuemap>
                                <name>Netatmo Weather Connection Status</name>
                            </valuemap>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{min(120)}=0</expression>
                                    <name>Netatmo {#STATION_NAME} {#MODULE_NAME} : Station is disconnected</name>
                                    <priority>HIGH</priority>
                                    <description>Station : {#STATION_NAME}&#13;
Module : {#MODULE_NAME}&#13;
Station is disconnected</description>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>Netatmo {#STATION_NAME} - {#MODULE_NAME} - Humidity</name>
                            <type>TRAP</type>
                            <key>netatmo.weather.namain.humidity[{#STATION_NAME},{#MODULE_NAME}]</key>
                            <delay>0</delay>
                            <history>1825d</history>
                            <trends>3650d</trends>
                            <units>%</units>
                            <description>Station : {#STATION_NAME}&#13;
Module : {#MODULE_NAME}&#13;
Humidity</description>
                            <applications>
                                <application>
                                    <name>Netatmo</name>
                                </application>
                            </applications>
                        </item_prototype>
                        <item_prototype>
                            <name>Netatmo {#STATION_NAME} - {#MODULE_NAME} - Noise</name>
                            <type>TRAP</type>
                            <key>netatmo.weather.namain.noise[{#STATION_NAME},{#MODULE_NAME}]</key>
                            <delay>0</delay>
                            <history>1825d</history>
                            <trends>3650d</trends>
                            <units>dB</units>
                            <description>Station : {#STATION_NAME}&#13;
Module : {#MODULE_NAME}&#13;
Noise</description>
                            <applications>
                                <application>
                                    <name>Netatmo</name>
                                </application>
                            </applications>
                        </item_prototype>
                        <item_prototype>
                            <name>Netatmo {#STATION_NAME} - {#MODULE_NAME} - Pressure</name>
                            <type>TRAP</type>
                            <key>netatmo.weather.namain.pressure[{#STATION_NAME},{#MODULE_NAME}]</key>
                            <delay>0</delay>
                            <history>1825d</history>
                            <trends>3650d</trends>
                            <value_type>FLOAT</value_type>
                            <units>{#PRESSURE_UNIT}</units>
                            <description>Station : {#STATION_NAME}&#13;
Module : {#MODULE_NAME}&#13;
Pressure</description>
                            <applications>
                                <application>
                                    <name>Netatmo</name>
                                </application>
                            </applications>
                        </item_prototype>
                        <item_prototype>
                            <name>Netatmo {#STATION_NAME} - {#MODULE_NAME} - Temperature</name>
                            <type>TRAP</type>
                            <key>netatmo.weather.namain.temperature[{#STATION_NAME},{#MODULE_NAME}]</key>
                            <delay>0</delay>
                            <history>1825d</history>
                            <trends>3650d</trends>
                            <value_type>FLOAT</value_type>
                            <units>°{#TEMPERATURE_UNIT}</units>
                            <description>Station : {#STATION_NAME}&#13;
Module : {#MODULE_NAME}&#13;
Temperature</description>
                            <applications>
                                <application>
                                    <name>Netatmo</name>
                                </application>
                            </applications>
                        </item_prototype>
                        <item_prototype>
                            <name>Netatmo {#STATION_NAME} - {#MODULE_NAME} - WiFi signal</name>
                            <type>TRAP</type>
                            <key>netatmo.weather.namain.wifi_status[{#STATION_NAME},{#MODULE_NAME}]</key>
                            <delay>0</delay>
                            <history>1825d</history>
                            <trends>3650d</trends>
                            <description>Station : {#STATION_NAME}&#13;
Module : {#MODULE_NAME}&#13;
WiFi signal info. &#13;
Lower is better.&#13;
&#13;
86 : Bad&#13;
71 : Average&#13;
56 : Good</description>
                            <applications>
                                <application>
                                    <name>Netatmo</name>
                                </application>
                            </applications>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last(#1)}&gt;=86 and {last(#2)}&gt;=86 and {last(#3)}&gt;=86</expression>
                                    <name>Netatmo {#STATION_NAME} {#MODULE_NAME} : WiFi signal is BAD</name>
                                    <priority>WARNING</priority>
                                    <description>Station : {#STATION_NAME}&#13;
Module : {#MODULE_NAME}&#13;
WiFi signal is BAD (&gt;= 86)</description>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
            </discovery_rules>
        </template>
    </templates>
    <value_maps>
        <value_map>
            <name>Netatmo Weather Connection Status</name>
            <mappings>
                <mapping>
                    <value>0</value>
                    <newvalue>DISCONNECTED</newvalue>
                </mapping>
                <mapping>
                    <value>1</value>
                    <newvalue>CONNECTED</newvalue>
                </mapping>
            </mappings>
        </value_map>
    </value_maps>
</zabbix_export>
